/* ============================================
   LANGUAGE & TRANSLATIONS
   Supports: English (EN), Français (FR)
   ============================================ */

const Translations = {
    en: {
        'nav.home': 'Home',
        'nav.about': 'About Us',
        'nav.who_we_are': 'Who We Are',
        'nav.mission': 'Mission & Vision',
        'nav.projects': 'Projects',
        'nav.impact': 'Impact',
        'nav.gallery': 'Gallery',
        'nav.donate': 'Donate',
        'nav.admin': 'Admin',
        
        'hero.title': 'Everyone Has Hidden Power.',
        'hero.subtitle': 'Discover Your Creative Voice',
        'hero.join': 'Join the Movement',
        'hero.donate_cta': 'Donate Now',
        
        'about.mission': 'Our Mission',
        'about.text': 'Art & Stories for All is empowering youth and out-of-school individuals to discover and express their hidden talents through art, sculpture, and storytelling. We believe that every person has a creative voice, and when given the space and tools to express it, transformation happens.',
        'about.youth': 'Youth Empowerment',
        'about.youth_desc': 'Through creative expression',
        'about.culture': 'Cultural Preservation',
        'about.culture_desc': 'Through art & tradition',
        'about.community': 'Community Building',
        'about.community_desc': 'Through storytelling',
        
        'who_are_title': 'Who We Are',
        'who_are_text': 'Founded by NIYOMUKIZA Didier, Creative Roots Rwanda is a grassroots creative initiative born from the passion to unlock potential in Rwandan youth. We operate as a 100% volunteer-led organization.',
        
        'mission_title': 'Mission & Vision',
        'mission_text': 'To empower youth in Rwanda to discover, develop, and express their creative talents through accessible art and storytelling.',
        'vision_text': 'A Rwanda where every young person sees themselves as a creative force capable of shaping their community.',
        
        'impact.title': 'Our Impact',
        'impact.youth': 'Youth Directly Empowered',
        'impact.volunteer': 'Volunteer-Led Organization',
        'impact.engagement': 'Community Engagements',
        
        'projects.title': 'Our Projects',
        'projects.workshops': 'Youth Art Workshops',
        'projects.workshops_desc': 'Interactive sessions where young people learn painting, sculpture, and mixed media techniques.',
        'projects.storytelling': 'Storytelling Circles',
        'projects.storytelling_desc': 'Safe spaces for youth to share personal stories and cultural narratives.',
        'projects.exhibition': 'Community Art Exhibitions',
        'projects.exhibition_desc': 'Public showcases of young people\'s artwork and creative projects.',
        
        'stories.title': 'Voices of Impact',
        'stories.watch': 'Watch Story',
        'stories.close': 'Close',
        
        'gallery.title': 'Gallery of Creativity',
        'gallery.subtitle': 'Art created by our young talented creators',
        
        'events.title': 'Upcoming Events',
        'events.date': 'Date',
        'events.time': 'Time',
        'events.location': 'Location',
        'events.capacity': 'Capacity',
        'events.book': 'Book Now',
        'events.spots_left': 'spots left',
        'events.full': 'Event Full',
        
        'booking.modal_title': 'Book Event',
        'booking.name': 'Full Name',
        'booking.email': 'Email',
        'booking.phone': 'Phone',
        'booking.attendees': 'Number of Attendees',
        'booking.submit': 'Confirm Booking',
        'booking.success': 'Booking Confirmed!',
        'booking.message': 'Thank you for booking. Check your email for confirmation.',
        
        'donate.title': 'Support Our Mission',
        'donate.subtitle': 'Help us continue empowering youth through art',
        'donate.amount': 'Donation Amount',
        'donate.custom': 'Custom Amount',
        'donate.payment': 'Payment Method',
        'donate.card': 'Credit Card',
        'donate.mobile': 'Mobile Money',
        'donate.submit': 'Donate Now',
        'donate.success': 'Thank you for your generosity!',
        
        'admin.dashboard': 'Admin Dashboard',
        'admin.gallery': 'Gallery Management',
        'admin.events': 'Events Management',
        'admin.stories': 'Success Stories',
        'admin.bookings': 'Bookings',
        'admin.logout': 'Logout',
        'admin.upload': 'Upload Image',
        'admin.title': 'Title',
        'admin.description': 'Description',
        'admin.add': 'Add',
        'admin.edit': 'Edit',
        'admin.delete': 'Delete',
        'admin.save': 'Save Changes',
        'admin.cancel': 'Cancel',
        'admin.back': 'Back to Website',
        'admin.artist': 'Artist',
        'admin.name': 'Name',
        'admin.video': 'Video URL',
        'admin.login_title': 'Admin Portal',
        'admin.login_subtitle': 'Creative Roots Rwanda',
        'admin.username': 'Username',
        'admin.password': 'Password',
        'admin.login_button': 'Login to Dashboard',
        'admin.remember': 'Remember me',
        'admin.forgot_password': 'Forgot password?',
        'admin.demo_credentials': 'Demo Credentials:',
        'admin.back_home': '← Back to Home',
        
        'cta.title': 'Support Hidden Talent. Support the Future.',
        'cta.subtitle': 'Your support helps us continue empowering youth through art.',
        
        'contact.title': 'Get in Touch',
        'contact.info': 'Contact Information',
        'contact.phone': 'Phone',
        'contact.email': 'Email',
        'contact.location': 'Location',
        'contact.ready': 'Ready to Join Us?',
        'contact.reach': 'Reach out to learn more about volunteering and partnerships.',
        'contact.send': 'Send Email',
        
        'footer.about': 'Empowering youth through art, sculpture, and storytelling.',
        'footer.links': 'Quick Links',
        'footer.contact': 'Contact',
        'footer.copyright': '© 2026 Creative Roots Rwanda. All rights reserved.'
    },
    fr: {
        'nav.home': 'Accueil',
        'nav.about': 'À propos',
        'nav.who_we_are': 'Qui sommes-nous',
        'nav.mission': 'Mission & Vision',
        'nav.projects': 'Projets',
        'nav.impact': 'Impact',
        'nav.gallery': 'Galerie',
        'nav.donate': 'Donner',
        'nav.admin': 'Admin',
        
        'hero.title': 'Chacun a un pouvoir caché.',
        'hero.subtitle': 'Découvrez votre voix créative',
        'hero.join': 'Rejoignez le mouvement',
        'hero.donate_cta': 'Donner maintenant',
        
        'about.mission': 'Notre Mission',
        'about.text': 'L\'art et les histoires pour tous autonomisent les jeunes et les personnes non scolarisées à découvrir et exprimer leurs talents cachés à travers l\'art.',
        'about.youth': 'Autonomisation des jeunes',
        'about.youth_desc': 'Par l\'expression créative',
        'about.culture': 'Préservation culturelle',
        'about.culture_desc': 'Par l\'art et la tradition',
        'about.community': 'Construction communautaire',
        'about.community_desc': 'Par la narration',
        
        'who_are_title': 'Qui sommes-nous',
        'who_are_text': 'Fondée par NIYOMUKIZA Didier, Creative Roots Rwanda est une initiative créative de base née de la passion de libérer le potentiel des jeunes rwandais.',
        
        'mission_title': 'Mission & Vision',
        'mission_text': 'Autonomiser les jeunes du Rwanda pour découvrir et exprimer leurs talents créatifs à travers l\'art accessible et la narration.',
        'vision_text': 'Un Rwanda où chaque jeune se voit comme une force créative capable de façonner sa communauté.',
        
        'impact.title': 'Notre Impact',
        'impact.youth': 'Jeunes directement autonomisés',
        'impact.volunteer': 'Organisation dirigée par des bénévoles',
        'impact.engagement': 'Engagements communautaires',
        
        'projects.title': 'Nos projets',
        'projects.workshops': 'Ateliers d\'art pour jeunes',
        'projects.workshops_desc': 'Sessions interactives où les jeunes apprennent la peinture, la sculpture et les techniques mixtes.',
        'projects.storytelling': 'Cercles de narration',
        'projects.storytelling_desc': 'Espaces sûrs pour que les jeunes partagent leurs histoires personnelles.',
        'projects.exhibition': 'Expositions d\'art communautaire',
        'projects.exhibition_desc': 'Vitrines des œuvres d\'art créées par nos jeunes artistes.',
        
        'stories.title': 'Voix de l\'impact',
        'stories.watch': 'Regarder l\'histoire',
        'stories.close': 'Fermer',
        
        'gallery.title': 'Galerie de créativité',
        'gallery.subtitle': 'Art créé par nos jeunes créateurs talentueux',
        
        'events.title': 'Événements à venir',
        'events.date': 'Date',
        'events.time': 'Heure',
        'events.location': 'Lieu',
        'events.capacity': 'Capacité',
        'events.book': 'Réserver maintenant',
        'events.spots_left': 'places restantes',
        'events.full': 'Événement complet',
        
        'booking.modal_title': 'Réserver un événement',
        'booking.name': 'Nom complet',
        'booking.email': 'E-mail',
        'booking.phone': 'Téléphone',
        'booking.attendees': 'Nombre de participants',
        'booking.submit': 'Confirmer la réservation',
        'booking.success': 'Réservation confirmée!',
        'booking.message': 'Merci de votre réservation. Vérifiez votre e-mail pour la confirmation.',
        
        'donate.title': 'Soutenir notre mission',
        'donate.subtitle': 'Aidez-nous à continuer à autonomiser les jeunes par l\'art',
        'donate.amount': 'Montant du don',
        'donate.custom': 'Montant personnalisé',
        'donate.payment': 'Mode de paiement',
        'donate.card': 'Carte de crédit',
        'donate.mobile': 'Mobile Money',
        'donate.submit': 'Donner maintenant',
        'donate.success': 'Merci pour votre générosité!',
        
        'admin.dashboard': 'Tableau de bord administrateur',
        'admin.gallery': 'Gestion de la galerie',
        'admin.events': 'Gestion des événements',
        'admin.stories': 'Histoires de succès',
        'admin.bookings': 'Réservations',
        'admin.logout': 'Déconnexion',
        'admin.upload': 'Télécharger une image',
        'admin.title': 'Titre',
        'admin.description': 'Description',
        'admin.add': 'Ajouter',
        'admin.edit': 'Éditer',
        'admin.delete': 'Supprimer',
        'admin.save': 'Enregistrer les modifications',
        'admin.cancel': 'Annuler',
        'admin.back': 'Retour au site',        'admin.login_title': 'Portail Admin',
        'admin.login_subtitle': 'Creative Roots Rwanda',
        'admin.username': 'Nom d\'utilisateur',
        'admin.password': 'Mot de passe',
        'admin.login_button': 'Se connecter',
        'admin.remember': 'Se souvenir de moi',
        'admin.forgot_password': 'Mot de passe oublié?',
        'admin.demo_credentials': 'Identifiants de démonstration :',
        'admin.back_home': '← Retour à l\'accueil',        
        'cta.title': 'Supportez le talent caché. Supportez l\'avenir.',
        'cta.subtitle': 'Votre soutien nous aide à continuer à autonomiser les jeunes par l\'art.',
        
        'contact.title': 'Nous contacter',
        'contact.info': 'Coordonnées',
        'contact.phone': 'Téléphone',
        'contact.email': 'E-mail',
        'contact.location': 'Lieu',
        'contact.ready': 'Prêt à nous rejoindre?',
        'contact.reach': 'Contactez-nous pour en savoir plus sur le bénévolat et les partenariats.',
        'contact.send': 'Envoyer un e-mail',
        
        'footer.about': 'Autonomiser les jeunes par l\'art, la sculpture et la narration.',
        'footer.links': 'Liens rapides',
        'footer.contact': 'Contact',
        'footer.copyright': '© 2026 Creative Roots Rwanda. Tous droits réservés.'
    }
};

const LanguageManager = {
    currentLang: 'en',

    init() {
        this.currentLang = StorageManager.getLanguage();
        this.attachLanguageSwitcher();
        this.translatePage();
    },

    attachLanguageSwitcher() {
        const langSwitchers = document.querySelectorAll('[data-lang]');
        langSwitchers.forEach(switcher => {
            switcher.addEventListener('click', (e) => {
                e.preventDefault();
                const lang = switcher.getAttribute('data-lang');
                this.setLanguage(lang);
            });
        });
    },

    setLanguage(lang) {
        if (['en', 'fr'].includes(lang)) {
            this.currentLang = lang;
            StorageManager.setLanguage(lang);
            this.translatePage();
        }
    },

    t(key) {
        const translation = Translations[this.currentLang][key];
        return translation || Translations['en'][key] || key;
    },

    translatePage() {
        const elements = document.querySelectorAll('[data-i18n]');
        elements.forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (Translations[this.currentLang][key]) {
                if (el.tagName === 'INPUT' && el.type === 'placeholder') {
                    el.placeholder = this.t(key);
                } else if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                    el.value = this.t(key);
                } else {
                    el.textContent = this.t(key);
                }
            }
        });

        // Update language switcher active state
        const switchers = document.querySelectorAll('[data-lang]');
        switchers.forEach(switcher => {
            switcher.classList.remove('active');
            if (switcher.getAttribute('data-lang') === this.currentLang) {
                switcher.classList.add('active');
            }
        });

        // Fire custom event for other scripts to listen to
        window.dispatchEvent(new CustomEvent('languageChanged', { detail: { lang: this.currentLang } }));
    }
};

// Export for use
window.StorageManager = StorageManager;
window.LanguageManager = LanguageManager;
